<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Grindstone Game Engine: Materials</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="grindstone.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeTabs.init()
  DoxygenAwesomeParagraphLink.init()
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeInteractiveToc.init()
  DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Grindstone Game Engine<span id="projectnumber">&#160;v0.2.0</span>
   </div>
   <div id="projectbrief">An open source game engine and toolkit.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_pages_2Rendering_2Materials.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Materials</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md77"></a></p>
<p>When you admire the worn paint on a metal door or the shimmer of water in a game, you're seeing the result of carefully crafted <b>materials</b>. In <b>Grindstone</b>, materials control how surfaces appear under lighting and effects by linking together shaders, textures, and property values. This system allows both technical and creative users to define the look of everything from gritty terrain to sci-fi armor.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md79"></a>
The Role of Materials</h1>
<p>Materials don't define <em>shape</em> — that’s what meshes do — but they define <em>how light interacts with surfaces</em>. This includes everything from basic colors and texture maps to more advanced features like transparency, normal mapping, or emissive glow.</p>
<p>In Grindstone, materials are flexible, asset-driven objects that can be previewed, edited, and reused throughout your scenes.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md81"></a>
Anatomy of a Material in Grindstone</h1>
<p>Each material is composed of three primary elements:</p>
<h2><a class="anchor" id="autotoc_md82"></a>
1. Shader Reference (GraphicsPipelineSet)</h2>
<p>Each material points to a <b>GraphicsPipelineSet</b>, Grindstone's version of a shader configuration. This defines:</p>
<ul>
<li>Which GPU shaders to use</li>
<li>Render settings (blending, culling, depth testing, etc.)</li>
<li>Available <b>parameters</b> and <b>resources</b></li>
<li>UI behavior (via shader-side definitions)</li>
</ul>
<p>The pipeline set ensures all materials using it share consistent behavior, while still allowing individual customization through properties.</p>
<h2><a class="anchor" id="autotoc_md83"></a>
2. Material Properties</h2>
<p>These are values passed into the shader to influence rendering logic. Examples include:</p>
<ul>
<li><code>Color</code>: a float4 that tints the surface</li>
<li><code>Roughness</code>: a float controlling how matte or glossy the surface looks</li>
<li><code>UVScale</code>: a float2 for controlling texture tiling</li>
</ul>
<p>Each parameter is defined by the GraphicsPipelineSet, and supports various types including float, int, vectors, booleans, and arrays.</p>
<h2><a class="anchor" id="autotoc_md84"></a>
3. Material Resources (Textures and Samplers)</h2>
<p>Resources are external assets such as:</p>
<ul>
<li><b>Textures</b> – e.g., diffuse, normal, roughness maps</li>
<li><b>Samplers</b> – specifying how textures are filtered, repeated, or clamped</li>
</ul>
<p>These provide surface detail and variation, turning a flat red color into cracked paint or rough stone.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md86"></a>
Editing Materials in the Grindstone Editor</h1>
<p>Materials are fully editable in the <b>Inspector Panel</b> once selected in the <b>Asset Browser</b>. The interface provides:</p>
<ul>
<li><b>Shader reference</b> at the top (via GraphicsPipelineSet)</li>
<li><b>Editable property fields</b> and <b>resource pickers</b> based on the shader definition</li>
</ul>
<p>Fields are automatically generated depending on the property type:</p>
<ul>
<li>Floats and vectors appear as sliders or number boxes</li>
<li>Booleans use checkboxes</li>
<li>Textures and samplers have asset selectors</li>
</ul>
<p>This editor-driven UI ensures artists and designers can work efficiently without needing to understand shader code.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md88"></a>
Applying Materials in a Scene</h1>
<p>Materials are applied through a combination of components:</p>
<ul>
<li><b>Mesh3dAsset</b>: contains the 3D model, including submeshes</li>
<li><b>MeshComponent</b>: references the mesh asset</li>
<li><b>MeshRendererComponent</b>: assigns an <b>array of materials</b> to be used when rendering the mesh</li>
</ul>
<p>Each submesh in the model has a <b>material index</b>, which selects the appropriate material from the array. This allows you to apply different materials to different parts of the same mesh — for example, wood for the handle, steel for the blade.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md90"></a>
Runtime Material Editing</h1>
<p>Developers can create and customize materials at runtime using the scripting API:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> materialInstance = MaterialAsset.Clone();</div>
<div class="line">MaterialParameter&lt;float&gt; param = materialInstance.GetParameter(<span class="stringliteral">&quot;Roughness&quot;</span>);</div>
<div class="line">materialInstance.Set(4.0f);</div>
<div class="line">materialInstance.SetFloat(<span class="stringliteral">&quot;Roughness&quot;</span>, 4.0f);</div>
</div><!-- fragment --><p>This is useful for features like changing damage states, animating materials, or adjusting visuals based on gameplay events.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md92"></a>
Creating and Importing Materials</h1>
<p>Materials can be:</p>
<ul>
<li><b>Created manually in the editor</b> through the Asset Browser</li>
<li><b>Imported automatically</b> with model files like <code>.fbx</code>, <code>.obj</code>, etc. via the <b>Model Importer</b>, which applies a default <code>GraphicsPipelineSet</code> and attempts to assign matching textures</li>
</ul>
<p>Once imported, you can replace or customize the material as needed.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md94"></a>
Validation and Error Handling</h1>
<p>While Grindstone currently imports all materials, <b>future versions will validate shader compatibility and usage</b>. If a material fails to import (e.g., due to a missing shader), it will appear in the <b>AssetWarnings</b> panel, and:</p>
<ul>
<li>The last known working version of the material will be used if available</li>
<li>A fallback material will be substituted if not</li>
</ul>
<p>This helps keep projects stable while alerting developers to issues needing attention.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md96"></a>
Best Practices</h1>
<ul>
<li><b>Use PascalCase for material names</b> (e.g., <code>SteelPlate</code>, <code>AlienSkin</code>)</li>
<li><b>Avoid duplicating similar materials</b> — reusing shared assets helps performance and maintainability</li>
<li><b>Clean up unused materials</b>. While they won’t be included in final builds, they can still slow down the editor and clutter your workspace.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md98"></a>
JSON-Based Storage (For Developers)</h1>
<p>Although not exposed to artists, materials in Grindstone are stored as JSON files. This allows them to be:</p>
<ul>
<li>Easily serialized</li>
<li>Version controlled</li>
<li>Debugged manually if needed</li>
</ul>
<p>Here’s a basic example:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;name&quot;: &quot;Column B&quot;,</div>
<div class="line">    &quot;shader&quot;: &quot;ad5ad34e-2017-487d-b2c3-489e26e63b3e&quot;,</div>
<div class="line">    &quot;parameters&quot;: {</div>
<div class="line">        &quot;color&quot;: [1, 1, 1, 1]</div>
<div class="line">    },</div>
<div class="line">    &quot;samplers&quot;: {</div>
<div class="line">        &quot;diffuseTexture&quot;: &quot;524af8b0-e993-4d92-8389-622e48b5976e&quot;,</div>
<div class="line">        &quot;normalTexture&quot;: &quot;3b8f4c07-e8cf-4bcd-b325-8b8e31d35aeb&quot;,</div>
<div class="line">        &quot;roughnessTexture&quot;: &quot;71ac2fa0-bdde-4fb8-9ec4-2fb66f1f1d8b&quot;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Most users will never need to edit this directly, as all material editing is done through the editor UI. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
