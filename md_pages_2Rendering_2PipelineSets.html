<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Grindstone Game Engine: Shader Pipeline System Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="grindstone.css" rel="stylesheet" type="text/css"/>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeTabs.init()
  DoxygenAwesomeParagraphLink.init()
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeInteractiveToc.init()
  DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Grindstone Game Engine<span id="projectnumber">&#160;v0.2.0</span>
   </div>
   <div id="projectbrief">An open source game engine and toolkit.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_pages_2Rendering_2PipelineSets.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Shader Pipeline System Documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md114"></a></p>
<h1><a class="anchor" id="autotoc_md115"></a>
Overview</h1>
<p>This pipeline system provides a declarative syntax for defining rendering pipelines and compute workloads for the Grindstone Game Engine. It supports modular reusability, inheritance, and specialization, allowing technical designers and engineers to author flexible and maintainable shader and pipeline definitions.</p>
<h1><a class="anchor" id="autotoc_md116"></a>
File Types</h1>
<ul>
<li><code>.gpset</code>: A pipeline set file, which can define one or more graphics or compute pipelines.</li>
<li><code>.hlsl</code>: Embedded directly within the pipeline set files for shader code.</li>
</ul>
<h1><a class="anchor" id="autotoc_md117"></a>
Core Constructs</h1>
<h2><a class="anchor" id="autotoc_md118"></a>
<code>include</code></h2>
<div class="fragment"><div class="line">include &quot;path/to/another/pipelineset.gpset&quot;</div>
</div><!-- fragment --><p>Used to include other pipeline set files, which may define reusable blocks, shared uniforms, functions, or base pipelines.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md120"></a>
<code>pipelineSet</code> and <code>computeSet</code></h2>
<ul>
<li><code>pipelineSet "&lt;Name&gt;"</code> defines a graphics pipeline.</li>
<li><code>computeSet "&lt;Name&gt;"</code> defines a compute pipeline.</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md122"></a>
<code>configuration</code></h2>
<p>Defines one or more configurations within a pipeline set. Each configuration can contain multiple passes (for graphics pipelines) or a single compute shader. Only one configuration should be used by a camera at a time.</p>
<p>Currently there is no selection mechanic but in the future, a configuration will be selected based on a list of selected tags - some static and some runtime. This will allow changing the quality or performance of an effect based on needs. For example:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Static tags   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GraphicsAPI   </td><td class="markdownTableBodyNone"><code>vulkan</code>, <code>opengl</code>, <code>dx12</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SupportsTesselation   </td><td class="markdownTableBodyNone"><code>true</code>, <code>false</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Lod (Level of Detail)   </td><td class="markdownTableBodyNone">Integer number (0+)   </td></tr>
</table>
<hr  />
<h2><a class="anchor" id="autotoc_md124"></a>
<code>pass</code></h2>
<p>Defined within a configuration (graphics only). Represents a rendering pass, with all shader data and render state configuration. If a pass exists outside of a configuration, it will not be used except for inheritance.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md126"></a>
Inheritance</h2>
<div class="fragment"><div class="line">pipelineSet &quot;X&quot; inherits &quot;Y&quot; {</div>
<div class="line">  ...</div>
</div><!-- fragment --><p>This allows a pipelineSet, computeSet, configuration, or pass to inherit from another.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md128"></a>
Pipeline Configuration Keywords</h1>
<h2><a class="anchor" id="autotoc_md129"></a>
Shader Entry Points</h2>
<div class="fragment"><div class="line">shaderEntrypoint: &lt;shader stage&gt; &lt;function&gt;</div>
</div><!-- fragment --><p>Specifies the main entrypoint(s) for the shader stage(s).</p>
<p>Shader stages include:</p><ul>
<li><code>vertex</code></li>
<li><code>fragment</code> (known as <code>pixel</code> in DirectX)</li>
<li><code>geometry</code></li>
<li><code>tesselationEvaluation</code> (known as <code>domain shader</code> in DirectX)</li>
<li><code>tesselationControl</code> (known as <code>hull shader</code> in DirectX)</li>
<li><code>task</code> (known as <code>amplification</code> in DirectX)</li>
<li><code>mesh</code></li>
<li><code>compute</code></li>
</ul>
<p><b>NOTE</b>: DirectX shader stage names are not used in Grindstone except within the DirectX Render Hardware Interface.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md131"></a>
<code>renderQueue</code></h2>
<div class="fragment"><div class="line">renderQueue: &quot;queueName&quot;</div>
</div><!-- fragment --><p>Sets the logical ordering of the rendering pass within the frame, useful for sorting transparent, opaque, or post-processing steps. See the documentation of your renderer to know which RenderQueues are accepted. If this is not used for geometry in the scene, this field is also used for discovering render passes.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md133"></a>
<code>properties</code></h2>
<p>This describes the way the triangle pipeline outside of the shaders work, by setting fixed-function properties used in attachments, depth testing, and culling:</p>
<div class="fragment"><div class="line">properties {</div>
<div class="line">  cull: both | back | front | none</div>
<div class="line">  depthBias: false | BiasConstantFactor BiasSlopeFactor BiasClamp</div>
<div class="line">  depthWrite: true | false</div>
<div class="line">  depthTest: true | false</div>
<div class="line">  depthClamp: false | nearValue | farValue</div>
<div class="line">  depthCompareOp: never | less | equal | lessOrEqual | greater | notEqual | greaterOrEqual | always</div>
<div class="line">  attachments: {</div>
<div class="line">    colorMask: ColorMask</div>
<div class="line">    blendPreset: BlendPreset</div>
<div class="line">    blendColor: Operation FactorSrc FactorDst</div>
<div class="line">    blendAlpha: Operation FactorSrc FactorDst</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md134"></a>
Attachments</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attachment Keys   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">colorMask   </td><td class="markdownTableBodyNone">Takes a combination of <code>r</code>, <code>g</code>, <code>b</code>, <code>a</code> (both lowercase and uppercase) to indicate which channels will be affected during rendering. For example, <code>gAb</code> activates green, alpha, and blue channels.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">blendPreset   </td><td class="markdownTableBodyNone">Used instead of <code>blendColor</code> and <code>blendAlpha</code>. These can simplify the definition of blend states, as they have necessary common presets.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">blendColor   </td><td class="markdownTableBodyNone">Used with <code>blendAlpha</code>, but not <code>blendPreset</code>. Acceptes a BlendOperation and two BlendFactors, one for source color factor, and one for destination color factor.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">blendAlpha   </td><td class="markdownTableBodyNone">Used with <code>blendColor</code>, but not <code>blendPreset</code>. Acceptes a BlendOperation and two BlendFactors, one for source alpha factor, and one for destination color factor.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md135"></a>
Depth Bias</h2>
<p>Biases the depth of a pixel to prevent artifacts (usually shadow artifacts). Accepts either <code>false</code>, or a series of three numbers that represent a curve.</p>
<h2><a class="anchor" id="autotoc_md136"></a>
Depth Write</h2>
<p>A boolean which decides whether or not the fragment shader will write to the depth buffer.</p>
<h2><a class="anchor" id="autotoc_md137"></a>
Depth Test</h2>
<p>A boolean which decides whether or not the fragment shader will write to the depth buffer.</p>
<h2><a class="anchor" id="autotoc_md138"></a>
Depth Clamp</h2>
<p>If <code>false</code>, this feature is disabled, otherwise, this field takes a series of two numbers - nearValue and farValue, and clamps the depth value between them.</p>
<h2><a class="anchor" id="autotoc_md139"></a>
Cull Mode</h2>
<p>Determines which side of a triangle would be drawn. Front faces of a triangle are those where the positions are defined in counter-clockwise order, and back faces are in clockwise order. Culling one side of a triangle saves on rendering pixels unnecessarily.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Cull Mode   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>both</code>   </td><td class="markdownTableBodyNone">Both front and back faces are hidden (nothing is drawn).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>front</code>   </td><td class="markdownTableBodyNone">Fronts of faces are hidden.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>back</code>   </td><td class="markdownTableBodyNone">Backs of faces are hidden <em>(default)</em>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>none</code>   </td><td class="markdownTableBodyNone">Neither front nor back faces are hidden (the entire triangle is drawn).   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md140"></a>
Depth Compare Operation</h2>
<p>Decides which depth values are accepted when a comparison is initiated between an existing pixel and a new one. Accepts one of: <code>Never, Less, Equal, LessOrEqual, Greater, NotEqual, GreaterOrEqual, Always</code></p>
<h2><a class="anchor" id="autotoc_md141"></a>
Blending</h2>
<p>Defines how two pixels drawn on top of each other are blended together. You either need to specify <code>blendPreset</code>, or both <code>blendColor</code> and <code>blendAlpha</code>.</p><ul>
<li><code>blendPreset</code> includes commonly used defaults, including the default of <code>Opaque</code>.</li>
<li><code>blendColor</code> defines how the RGB channels are combined.</li>
<li><code>blendAlpha</code> defines how the alpha channel is combined.</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><code>BlendPreset</code>   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>opaque</code>   </td><td class="markdownTableBodyNone">No color blending at all. <br  />
 <code>blendColor: none one one</code> <br  />
 <code>blendAlpha: none one one</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>translucent</code>   </td><td class="markdownTableBodyNone">The most common blending when it is enabled, where the top pixel's alpha indicates how blended the two are. <br  />
 <code>blendColor: add srcAlpha oneMinusSrcAlpha</code> <br  />
 <code>blendAlpha: add one zero</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>additive</code>   </td><td class="markdownTableBodyNone">Simply add the two values, brightening the result. <br  />
 <code>blendColor: add srcAlpha one</code> <br  />
 <code>blendAlpha: add one zero</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>multiplicative</code>   </td><td class="markdownTableBodyNone">Simply multiple the two values, usually darkening the result. <br  />
 <code>blendColor: multiply one one</code> <br  />
 <code>blendAlpha: multiply one one</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>premultiply</code>   </td><td class="markdownTableBodyNone">First multiplies color before blending by its alpha similarly to Translucent. <br  />
 <code>blendColor: add one oneMinusSrcAlpha</code> <br  />
 <code>blendAlpha: add one oneMinusSrcAlpha</code>   </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Blend Operation   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>None</b>   </td><td class="markdownTableBodyNone">No blending; source completely replaces the destination.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Add</b>   </td><td class="markdownTableBodyNone">Adds the source and destination colors: <code>Src + Dst</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Subtract</b>   </td><td class="markdownTableBodyNone">Subtracts destination from source: <code>Src - Dst</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>ReverseSubtract</b>   </td><td class="markdownTableBodyNone">Subtracts source from destination: <code>Dst - Src</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Minimum</b>   </td><td class="markdownTableBodyNone">Takes the minimum of source and destination for each component.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Maximum</b>   </td><td class="markdownTableBodyNone">Takes the maximum of source and destination for each component.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Zero</b>   </td><td class="markdownTableBodyNone">Uses zero as the blend factor; effectively removes contribution.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Source</b>   </td><td class="markdownTableBodyNone">Only the source color is used (equivalent to <code>None</code>).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Destination</b>   </td><td class="markdownTableBodyNone">Only the destination color is kept (source discarded).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SourceOver</b>   </td><td class="markdownTableBodyNone">Standard alpha blending: <code>Src + (1 - SrcAlpha) * Dst</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DestinationOver</b>   </td><td class="markdownTableBodyNone"><code>Dst + (1 - DstAlpha) * Src</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SourceIn</b>   </td><td class="markdownTableBodyNone"><code>Src * DstAlpha</code>, only where destination exists.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DestinationIn</b>   </td><td class="markdownTableBodyNone"><code>Dst * SrcAlpha</code>, only where source exists.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SourceOut</b>   </td><td class="markdownTableBodyNone"><code>Src * (1 - DstAlpha)</code>, only where destination is absent.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DestinationOut</b>   </td><td class="markdownTableBodyNone"><code>Dst * (1 - SrcAlpha)</code>, only where source is absent.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SourceAtop</b>   </td><td class="markdownTableBodyNone"><code>Src * DstAlpha + Dst * (1 - SrcAlpha)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DestinationAtop</b>   </td><td class="markdownTableBodyNone"><code>Dst * SrcAlpha + Src * (1 - DstAlpha)</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>XOR</b>   </td><td class="markdownTableBodyNone"><code>Src * (1 - DstAlpha) + Dst * (1 - SrcAlpha)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Multiply</b>   </td><td class="markdownTableBodyNone">Multiplies source and destination: <code>Src * Dst</code>, darkens.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Screen</b>   </td><td class="markdownTableBodyNone">Inverse multiply: <code>1 - (1 - Src) * (1 - Dst)</code>, lightens.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Overlay</b>   </td><td class="markdownTableBodyNone">Combines Multiply and Screen based on Dst: darkens dark, lightens light.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Darken</b>   </td><td class="markdownTableBodyNone"><code>min(Src, Dst)</code>, keeps the darker color.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Lighten</b>   </td><td class="markdownTableBodyNone"><code>max(Src, Dst)</code>, keeps the lighter color.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>ColorDodge</b>   </td><td class="markdownTableBodyNone">Brightens destination to reflect the source.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ColorBurn</b>   </td><td class="markdownTableBodyNone">Darkens destination to reflect the source.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>HardLight</b>   </td><td class="markdownTableBodyNone">Screen or Multiply depending on Src brightness.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SoftLight</b>   </td><td class="markdownTableBodyNone">Soft contrast blend; similar to diffuse lighting.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Difference</b>   </td><td class="markdownTableBodyNone">Absolute difference: <code>abs(Dst - Src)</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Exclusion</b>   </td><td class="markdownTableBodyNone">Similar to Difference but with less contrast: <code>Dst + Src - 2 * Dst * Src</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Invert</b>   </td><td class="markdownTableBodyNone">Inverts all components of the destination.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>InvertRGB</b>   </td><td class="markdownTableBodyNone">Inverts only the RGB components of the destination.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>LinearDodge</b>   </td><td class="markdownTableBodyNone">Additive blend with clamping.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>LinearBurn</b>   </td><td class="markdownTableBodyNone">Subtractive blend with clamping: <code>Src + Dst - 1</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>VividLight</b>   </td><td class="markdownTableBodyNone">Combination of ColorDodge and ColorBurn based on Src.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>LinearLight</b>   </td><td class="markdownTableBodyNone">Adds or subtracts Src based on its luminance: <code>Dst + 2 * Src - 1</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>PinLight</b>   </td><td class="markdownTableBodyNone">Replaces colors depending on brightness: clamps using Src.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>HardMix</b>   </td><td class="markdownTableBodyNone">Result is either 0 or 1 per channel depending on threshold.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>HSLHue</b>   </td><td class="markdownTableBodyNone">Combines hue of Src with saturation and luminance of Dst.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>HSLSaturation</b>   </td><td class="markdownTableBodyNone">Combines saturation of Src with hue and luminance of Dst.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>HSLColor</b>   </td><td class="markdownTableBodyNone">Combines hue and saturation of Src with luminance of Dst.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>HSLLuminosity</b>   </td><td class="markdownTableBodyNone">Combines luminance of Src with hue and saturation of Dst.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Plus</b>   </td><td class="markdownTableBodyNone">Additive blend, may overflow.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>PlusClamped</b>   </td><td class="markdownTableBodyNone">Additive blend clamped to [0, 1].    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>PlusClampedAlpha</b>   </td><td class="markdownTableBodyNone">Additive blend with alpha clamped to [0, 1].    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>PlusDark</b>   </td><td class="markdownTableBodyNone">Add then take the darker result.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Minus</b>   </td><td class="markdownTableBodyNone">Subtractive blend, may underflow.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>MinusClamped</b>   </td><td class="markdownTableBodyNone">Subtractive blend clamped to [0, 1].    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Contrast</b>   </td><td class="markdownTableBodyNone">Increases difference from mid-gray; enhances contrast.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>InvertOVG</b>   </td><td class="markdownTableBodyNone">OpenVG-style inversion of destination color.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Red</b>   </td><td class="markdownTableBodyNone">Only red channel of the source is used; others 0.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Green</b>   </td><td class="markdownTableBodyNone">Only green channel of the source is used; others 0.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Blue</b>   </td><td class="markdownTableBodyNone">Only blue channel of the source is used; others 0.   </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Blend Factor   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Zero</b>   </td><td class="markdownTableBodyNone">Always 0.0 — the color contributes nothing.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>One</b>   </td><td class="markdownTableBodyNone">Always 1.0 — the color is used as-is.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SrcColor</b>   </td><td class="markdownTableBodyNone">Multiplies by the source color: <code>source.rgb</code> or <code>source.rgba</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusSrcColor</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - source color): <code>1 - source.rgb</code> or <code>1 - source.rgba</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DstColor</b>   </td><td class="markdownTableBodyNone">Multiplies by the destination color: <code>dest.rgb</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusDstColor</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - destination color): <code>1 - dest.rgb</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SrcAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by the source alpha: <code>source.a</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusSrcAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - source alpha): <code>1 - source.a</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>DstAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by the destination alpha: <code>dest.a</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusDstAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - destination alpha): <code>1 - dest.a</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ConstantColor</b>   </td><td class="markdownTableBodyNone">Multiplies by a user-defined constant color set with <code>glBlendColor</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusConstantColor</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - constant color).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ConstantAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by the alpha of the constant color.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>OneMinusConstantAlpha</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - constant alpha).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SrcAlphaSaturate</b>   </td><td class="markdownTableBodyNone">Uses <code>min(source.a, 1 - dest.a)</code> for RGB; alpha is set to 1.0. Useful for fade-to-black.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Src1Color</b>   </td><td class="markdownTableBodyNone">Multiplies by the second source color (used in dual-source blending).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>OneMinusSrc1Color</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - second source color).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Src1Alpha</b>   </td><td class="markdownTableBodyNone">Multiplies by the alpha of the second source color.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>OneMinusSrc1Alpha</b>   </td><td class="markdownTableBodyNone">Multiplies by (1 - alpha of the second source color).   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md143"></a>
Shaders</h1>
<h2><a class="anchor" id="autotoc_md144"></a>
<code>shaderBlock</code></h2>
<p>Declares HLSL data that can be reused by multiple shaders. Can reference other blocks.</p>
<div class="fragment"><div class="line">shaderBlock GsComputeWorldSpacePosition {</div>
<div class="line">    requiresBlocks [</div>
<div class="line">        GsComputeClipSpacePosition,</div>
<div class="line">        GsInvertMatrix</div>
<div class="line">    ]</div>
<div class="line"> </div>
<div class="line">    shaderHlsl {</div>
<div class="line">        float3 ComputeWorldSpacePosition(float4x4 projectionMatrix, float4x4 viewMatrix, float2 positionNDC, float deviceDepth) {</div>
<div class="line">            float4 positionCS  = ComputeClipSpacePosition(positionNDC, deviceDepth);</div>
<div class="line">            float4 hpositionWS = mul(positionCS, InvertMatrix(projectionMatrix * viewMatrix));</div>
<div class="line">            return hpositionWS.xyz / hpositionWS.w;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md145"></a>
<code>requiresBlocks</code></h2>
<p>Specifies a list of shared <b>shaderBlocks</b> that should be injected or made available.</p>
<div class="fragment"><div class="line">requiresBlocks [</div>
<div class="line">  GsViewNormal,</div>
<div class="line">  GsRendererUniform,</div>
<div class="line">  ...</div>
<div class="line">]</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md147"></a>
<code>shaderHlsl</code></h2>
<p>Embedded HLSL source. This block supports vertex, fragment, or compute code, depending on the pipeline type. Technical designers are not expected to modify this unless they are writing or modifying shaders. Learn about how to use HLSL for Grindstone here: <a href="https://docs.vulkan.org/guide/latest/hlsl.html#_hlsl">Vulkan.org - HLSL in Vulkan</a>.</p>
<div class="fragment"><div class="line">shaderHlsl {</div>
<div class="line">  // HLSL code here</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md149"></a>
Example 1: Graphics Pipeline</h1>
<div class="fragment"><div class="line">include &quot;$ENGINE/pipelinesets/common/matrixTransformations.gpset&quot;</div>
<div class="line"> </div>
<div class="line">pipelineSet &quot;Depth of Field (Blur)&quot; inherits &quot;PostProcessing&quot; {</div>
<div class="line">  configuration &quot;main&quot; {</div>
<div class="line">    pass &quot;main&quot; {</div>
<div class="line">      shaderEntrypoint: vertex mainVertex</div>
<div class="line">      shaderEntrypoint: fragment mainFragment</div>
<div class="line">      renderQueue: &quot;DofBlurAndCombination&quot;</div>
<div class="line">      properties {</div>
<div class="line">        cull: back</div>
<div class="line">        depthBias: false</div>
<div class="line">        depthWrite: false</div>
<div class="line">        depthTest: false</div>
<div class="line">        depthClamp: false</div>
<div class="line">        depthCompareOp: lessOrEqual</div>
<div class="line">        attachments: {</div>
<div class="line">          colorMask: rgba</div>
<div class="line">          blendPreset: opaque</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      shaderHlsl {</div>
<div class="line">        // Vertex and fragment shader code here</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md151"></a>
Example 2: Compute Pipeline</h1>
<div class="fragment"><div class="line">include &quot;$ENGINE/pipelinesets/common/matrixTransformations.gpset&quot;</div>
<div class="line">include &quot;$ENGINE/pipelinesets/common/rendererUniform.gpset&quot;</div>
<div class="line"> </div>
<div class="line">computeSet &quot;Bloom&quot; {</div>
<div class="line">  shaderEntrypoint: compute main</div>
<div class="line"> </div>
<div class="line">  requiresBlocks [</div>
<div class="line">    GsViewNormal,</div>
<div class="line">    GsComputeClipSpacePosition,</div>
<div class="line">    GsComputeViewSpacePosition,</div>
<div class="line">    GsRendererUniform,</div>
<div class="line">  ]</div>
<div class="line"> </div>
<div class="line">  shaderHlsl {</div>
<div class="line">    // Compute shader code here</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
